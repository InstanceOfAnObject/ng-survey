/*! ngSurvey 0.0.1 - 2015-02-17 */
angular.module("ngSurvey",[]),angular.module("ngSurvey").directive("surveyControlMultipleChoice",function(){return{restrict:"A",scope:{question:"=src"},template:function(){var a=[];return a.push('<label for="{{question.id}}" ng-bind="question.caption"></label>'),a.push("<ul>"),a.push('  <li ng-repeat="option in question.options">'),a.push('    <label for="{{question.id}}_option{{$index}}">'),a.push('      <input ng-if="!question.singleAnswer" id="{{question.id}}_option{{$index}}" type="checkbox" name="{{question.id}}_options" ng-model="option.value" />'),a.push('      <input ng-if="question.singleAnswer" id="{{question.id}}_option{{$index}}" type="radio" name="{{question.id}}_options" ng-model="question.value" ng-value="option.value" />'),a.push("      {{option.text}}"),a.push("    </label>"),a.push(" </li>"),a.push("</ul>"),a.join("")},link:function(){}}}),angular.module("ngSurvey").directive("surveyControlSelect",function(){return{restrict:"A",scope:{question:"=src"},template:function(){var a=[];return a.push('<label for="{{question.id}}" ng-bind="question.caption"></label>'),a.push('<select id="{{question.id}}" class="form-control" ng-options="option.value as option.text for option in question.options" ng-model="question.value"></select>'),a.join("")},link:function(){}}}),angular.module("ngSurvey").directive("surveyControlTextarea",function(){return{restrict:"A",scope:{question:"=src"},template:function(){var a=[];return a.push('<label for="{{question.id}}" ng-bind="question.caption"></label>'),a.push('<textarea id="{{question.id}}" class="form-control" ng-model="question.value" />'),a.join("")},link:function(){}}}),angular.module("ngSurvey").directive("surveyControlTextbox",function(){return{restrict:"A",scope:{question:"=src"},template:function(){var a=[];return a.push('<label for="{{question.id}}" ng-bind="question.caption"></label>'),a.push('<input id="{{question.id}}" type="text" class="form-control" ng-model="question.value" />'),a.join("")},link:function(){}}}),angular.module("ngSurvey").directive("survey",[function(){return{restrict:"EA",scope:{src:"="},template:function(){var a=[];return a.push("<ul>"),a.push('  <li ng-show="$index === activeGroupIdx" data-ng-repeat="group in src.groups">'),a.push("    <h2>{{group.title}}</h2>"),a.push('    <div survey-group src="group.questions" qidx="activeQuestionIdx"></div>'),a.push("  </li>"),a.push("</ul>"),a.push("<p>"),a.push('  <input type="button" class="btn btn-secondary" ng-click="onGoToPreviousQuestion()" value="Previous" ng-hide="(activeGroupIdx + activeQuestionIdx) === 0" />'),a.push('  <input type="button" class="btn btn-primary" ng-click="onGotToNextQuestion()" value="Next" ng-hide="finish" />'),a.push('  <input type="button" class="btn btn-primary" ng-click="onFinish()" value="Finish" ng-show="finish" />'),a.push("</p>"),a.join("")},link:function(a){a.activeGroupIdx=0,a.activeQuestionIdx=0,a.finish=!1,a.onGotToNextQuestion=function(){var b=!1,c=!1;b=a.activeQuestionIdx+1===a.src.groups[a.activeGroupIdx].questions.length,c=a.activeGroupIdx+1===a.src.groups.length,b?b&&!c&&(a.activeGroupIdx++,a.activeQuestionIdx=0):a.activeQuestionIdx++,b=a.activeQuestionIdx+1===a.src.groups[a.activeGroupIdx].questions.length,c=a.activeGroupIdx+1===a.src.groups.length,b&&c&&(a.finish=!0)},a.onGoToPreviousQuestion=function(){a.activeQuestionIdx>0?(a.activeQuestionIdx--,a.finish=!1):0===a.activeQuestionIdx&&a.activeGroupIdx>0&&(a.activeGroupIdx--,a.activeQuestionIdx=a.src.groups[a.activeGroupIdx].questions.length-1,a.finish=!1)},a.onFinish=function(){}}}}]),angular.module("ngSurvey").directive("surveyGroup",[function(){return{restrict:"A",scope:{questions:"=src",qidx:"="},template:function(){var a=[];return a.push('<div data-ng-repeat="question in questions" ng-show="$index == qidx">'),a.push('  <div survey-question src="question"></div>'),a.push("</div>"),a.join("")},link:function(){}}}]),angular.module("ngSurvey").directive("surveyQuestion",["$compile",function(a){var b=function(a){var b=[];switch(b.push("<p>"),a){case"textbox":b.push('<div survey-control-textbox class="form-group" src="question"></div>');break;case"textarea":b.push('<div survey-control-textarea src="question"></div>');break;case"select":b.push('<div survey-control-select src="question"></div>');break;case"multiplechoice":b.push('<div survey-control-multiple-choice src="question"></div>');break;default:b.push("<span>Unsupported field type</span>")}return b.push("</p>"),b.join("")};return{restrict:"A",scope:{question:"=src"},link:function(c,d){var e=a(b(c.question.type))(c);d.replaceWith(e)}}}]);